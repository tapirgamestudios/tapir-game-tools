---
source: crates/tapir-script/compiler/src/compile/ir/optimisations.rs
expression: output
input_file: crates/tapir-script/compiler/src/compile/ir/snapshot_tests/optimisations/integration/boolean_short_circuit.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 2 ----
getprop temp.17, 0
temp.18 = int 0
temp.19 = temp.17 > temp.18
a.20 = temp.19
temp.21 = a.20
temp.22 = bool false
conditional_jump temp.21 0 1

---- block 0 ----
getprop temp.23, 0
temp.24 = int 100
temp.25 = temp.23 < temp.24
jmp 1

---- block 1 ----
temp.26 = φ(temp.22 from 2, temp.25 from 0)
a.30 = φ(a.20 from 2, a.20 from 0)
conditional_jump temp.26 3 4

---- block 3 ----
temp.27 = int 1
temp.28 = temp.27
storeprop temp.28, 0
jmp 5

---- block 4 ----
jmp 5

---- block 5 ----
a.29 = φ(a.30 from 3, a.30 from 4)
temp.31 = a.29
temp.32 = bool true
conditional_jump temp.31 7 6

---- block 7 ----
temp.36 = φ(temp.32 from 5, temp.35 from 6)
conditional_jump temp.36 8 9

---- block 6 ----
getprop temp.33, 0
temp.34 = int 100
temp.35 = temp.33 < temp.34
jmp 7

---- block 8 ----
temp.37 = int 2
temp.38 = temp.37
storeprop temp.38, 0
jmp 10

---- block 9 ----
jmp 10

---- block 10 ----
return 


----------- empty_phi -------------
=======================
fn @toplevel() -> 

---- block 2 ----
getprop temp.17, 0
temp.18 = int 0
temp.19 = temp.17 > temp.18
a.20 = temp.19
temp.21 = a.20
temp.22 = bool false
conditional_jump temp.21 0 1

---- block 0 ----
getprop temp.23, 0
temp.24 = int 100
temp.25 = temp.23 < temp.24
jmp 1

---- block 1 ----
temp.26 = φ(temp.22 from 2, temp.25 from 0)
conditional_jump temp.26 3 4

---- block 3 ----
temp.27 = int 1
temp.28 = temp.27
storeprop temp.28, 0
jmp 5

---- block 4 ----
jmp 5

---- block 5 ----
temp.31 = a.20
temp.32 = bool true
conditional_jump temp.31 7 6

---- block 7 ----
temp.36 = φ(temp.32 from 5, temp.35 from 6)
conditional_jump temp.36 8 9

---- block 6 ----
getprop temp.33, 0
temp.34 = int 100
temp.35 = temp.33 < temp.34
jmp 7

---- block 8 ----
temp.37 = int 2
temp.38 = temp.37
storeprop temp.38, 0
jmp 10

---- block 9 ----
jmp 10

---- block 10 ----
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 2 ----
getprop temp.17, 0
temp.18 = int 0
temp.19 = temp.17 > temp.18
a.20 = temp.19
temp.21 = temp.19
temp.22 = bool false
conditional_jump temp.19 0 1

---- block 0 ----
getprop temp.23, 0
temp.24 = int 100
temp.25 = temp.23 < temp.24
jmp 1

---- block 1 ----
temp.26 = φ(temp.22 from 2, temp.25 from 0)
conditional_jump temp.26 3 4

---- block 3 ----
temp.27 = int 1
temp.28 = temp.27
storeprop temp.27, 0
jmp 5

---- block 4 ----
jmp 5

---- block 5 ----
temp.31 = temp.19
temp.32 = bool true
conditional_jump temp.19 7 6

---- block 7 ----
temp.36 = φ(temp.32 from 5, temp.35 from 6)
conditional_jump temp.36 8 9

---- block 6 ----
getprop temp.33, 0
temp.34 = int 100
temp.35 = temp.33 < temp.34
jmp 7

---- block 8 ----
temp.37 = int 2
temp.38 = temp.37
storeprop temp.37, 0
jmp 10

---- block 9 ----
jmp 10

---- block 10 ----
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 2 ----
getprop temp.17, 0
temp.18 = int 0
temp.19 = temp.17 > temp.18
temp.22 = bool false
conditional_jump temp.19 0 1

---- block 0 ----
getprop temp.23, 0
temp.24 = int 100
temp.25 = temp.23 < temp.24
jmp 1

---- block 1 ----
temp.26 = φ(temp.22 from 2, temp.25 from 0)
conditional_jump temp.26 3 4

---- block 3 ----
temp.27 = int 1
storeprop temp.27, 0
jmp 5

---- block 4 ----
jmp 5

---- block 5 ----
temp.32 = bool true
conditional_jump temp.19 7 6

---- block 7 ----
temp.36 = φ(temp.32 from 5, temp.35 from 6)
conditional_jump temp.36 8 9

---- block 6 ----
getprop temp.33, 0
temp.34 = int 100
temp.35 = temp.33 < temp.34
jmp 7

---- block 8 ----
temp.37 = int 2
storeprop temp.37, 0
jmp 10

---- block 9 ----
jmp 10

---- block 10 ----
return 


----------- empty_block -------------
=======================
fn @toplevel() -> 

---- block 2 ----
getprop temp.17, 0
temp.18 = int 0
temp.19 = temp.17 > temp.18
temp.22 = bool false
conditional_jump temp.19 0 1

---- block 0 ----
getprop temp.23, 0
temp.24 = int 100
temp.25 = temp.23 < temp.24
jmp 1

---- block 1 ----
temp.26 = φ(temp.22 from 2, temp.25 from 0)
conditional_jump temp.26 3 5

---- block 3 ----
temp.27 = int 1
storeprop temp.27, 0
jmp 5

---- block 5 ----
temp.32 = bool true
conditional_jump temp.19 7 6

---- block 7 ----
temp.36 = φ(temp.32 from 5, temp.35 from 6)
conditional_jump temp.36 8 10

---- block 6 ----
getprop temp.33, 0
temp.34 = int 100
temp.35 = temp.33 < temp.34
jmp 7

---- block 8 ----
temp.37 = int 2
storeprop temp.37, 0
return 

---- block 10 ----
return
