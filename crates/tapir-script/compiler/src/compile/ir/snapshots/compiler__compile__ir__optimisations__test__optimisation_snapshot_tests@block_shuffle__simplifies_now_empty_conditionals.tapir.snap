---
source: crates/tapir-script/compiler/src/compile/ir/optimisations.rs
expression: output
input_file: crates/tapir-script/compiler/src/compile/ir/snapshot_tests/optimisations/block_shuffle/simplifies_now_empty_conditionals.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 3 ----
temp.12 = int 5
x.13 = temp.12
temp.14 = int 19
y.15 = temp.14
temp.16 = bool true
conditional_jump temp.16 0 1

---- block 0 ----
temp.17 = int 19
y.18 = temp.17
temp.19 = bool true
conditional_jump temp.19 4 5

---- block 1 ----
jmp 2

---- block 4 ----
temp.20 = y.18
x.21 = temp.20
jmp 6

---- block 5 ----
jmp 6

---- block 2 ----
x.22 = φ(x.13 from 1, x.23 from 6)
temp.24 = x.22
temp.25 = temp.24
storeprop temp.25, 0
return 

---- block 6 ----
x.23 = φ(x.21 from 4, x.13 from 5)
jmp 2


----------- remove_constant_conditionals -------------
=======================
fn @toplevel() -> 

---- block 3 ----
temp.12 = int 5
x.13 = temp.12
temp.14 = int 19
y.15 = temp.14
temp.16 = bool true
jmp 0

---- block 0 ----
temp.17 = int 19
y.18 = temp.17
temp.19 = bool true
jmp 4

---- block 4 ----
temp.20 = y.18
x.21 = temp.20
jmp 6

---- block 6 ----
x.23 = φ(x.21 from 4, x.13 from 5)
jmp 2

---- block 2 ----
x.22 = φ(x.13 from 1, x.23 from 6)
temp.24 = x.22
temp.25 = temp.24
storeprop temp.25, 0
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 3 ----
temp.12 = int 5
x.13 = temp.12
temp.14 = int 19
y.15 = temp.14
temp.16 = bool true
jmp 0

---- block 0 ----
temp.17 = int 19
y.18 = temp.17
temp.19 = bool true
jmp 4

---- block 4 ----
temp.20 = temp.17
x.21 = temp.17
jmp 6

---- block 6 ----
x.23 = φ(temp.17 from 4, temp.12 from 5)
jmp 2

---- block 2 ----
x.22 = φ(temp.12 from 1, x.23 from 6)
temp.24 = x.22
temp.25 = x.22
storeprop x.22, 0
return 


----------- simplify_blocks -------------
=======================
fn @toplevel() -> 

---- block 3 ----
temp.12 = int 5
x.13 = temp.12
temp.14 = int 19
y.15 = temp.14
temp.16 = bool true
temp.17 = int 19
y.18 = temp.17
temp.19 = bool true
jmp 0

---- block 0 ----
temp.20 = temp.17
x.21 = temp.17
jmp 4

---- block 4 ----
jmp 6

---- block 6 ----
x.23 = φ(temp.17 from 4, temp.12 from 5)
jmp 2

---- block 2 ----
x.22 = φ(temp.12 from 1, x.23 from 6)
temp.24 = x.22
temp.25 = x.22
storeprop x.22, 0
return 


----------- simplify_blocks -------------
=======================
fn @toplevel() -> 

---- block 3 ----
temp.12 = int 5
x.13 = temp.12
temp.14 = int 19
y.15 = temp.14
temp.16 = bool true
temp.17 = int 19
y.18 = temp.17
temp.19 = bool true
temp.20 = temp.17
x.21 = temp.17
jmp 0

---- block 0 ----
jmp 4

---- block 4 ----
jmp 6

---- block 6 ----
x.23 = φ(temp.17 from 4, temp.12 from 5)
jmp 2

---- block 2 ----
x.22 = φ(temp.12 from 1, x.23 from 6)
temp.24 = x.22
temp.25 = x.22
storeprop x.22, 0
return
