---
source: crates/tapir-script/compiler/src/compile/ir/optimisations.rs
expression: output
input_file: crates/tapir-script/compiler/src/compile/ir/snapshot_tests/optimisations/constant_folding/add_zero.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
getprop temp.18, 0
temp.19 = int 0
temp.20 = temp.18 + temp.19
temp.21 = temp.20
storeprop temp.21, 0
wait
temp.22 = int 0
getprop temp.23, 0
temp.24 = temp.22 + temp.23
temp.25 = temp.24
storeprop temp.25, 0
wait
temp.26 = fix 0
getprop temp.27, 1
temp.28 = temp.26 + temp.27
temp.29 = temp.28
storeprop temp.29, 1
wait
getprop temp.30, 1
temp.31 = fix 0
temp.32 = temp.30 + temp.31
temp.33 = temp.32
storeprop temp.33, 1
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 0 ----
getprop temp.18, 0
temp.19 = int 0
temp.20 = temp.18 + temp.19
temp.21 = temp.20
storeprop temp.20, 0
wait
temp.22 = int 0
getprop temp.23, 0
temp.24 = temp.22 + temp.23
temp.25 = temp.24
storeprop temp.24, 0
wait
temp.26 = fix 0
getprop temp.27, 1
temp.28 = temp.26 + temp.27
temp.29 = temp.28
storeprop temp.28, 1
wait
getprop temp.30, 1
temp.31 = fix 0
temp.32 = temp.30 + temp.31
temp.33 = temp.32
storeprop temp.32, 1
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
getprop temp.18, 0
temp.19 = int 0
temp.20 = temp.18 + temp.19
storeprop temp.20, 0
wait
temp.22 = int 0
getprop temp.23, 0
temp.24 = temp.22 + temp.23
storeprop temp.24, 0
wait
temp.26 = fix 0
getprop temp.27, 1
temp.28 = temp.26 + temp.27
storeprop temp.28, 1
wait
getprop temp.30, 1
temp.31 = fix 0
temp.32 = temp.30 + temp.31
storeprop temp.32, 1
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
getprop temp.18, 0
temp.19 = int 0
temp.20 = temp.18
storeprop temp.20, 0
wait
temp.22 = int 0
getprop temp.23, 0
temp.24 = temp.23
storeprop temp.24, 0
wait
temp.26 = fix 0
getprop temp.27, 1
temp.28 = temp.27
storeprop temp.28, 1
wait
getprop temp.30, 1
temp.31 = fix 0
temp.32 = temp.30
storeprop temp.32, 1
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 0 ----
getprop temp.18, 0
temp.19 = int 0
temp.20 = temp.18
storeprop temp.18, 0
wait
temp.22 = int 0
getprop temp.23, 0
temp.24 = temp.23
storeprop temp.23, 0
wait
temp.26 = fix 0
getprop temp.27, 1
temp.28 = temp.27
storeprop temp.27, 1
wait
getprop temp.30, 1
temp.31 = fix 0
temp.32 = temp.30
storeprop temp.30, 1
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
getprop temp.18, 0
storeprop temp.18, 0
wait
getprop temp.23, 0
storeprop temp.23, 0
wait
getprop temp.27, 1
storeprop temp.27, 1
wait
getprop temp.30, 1
storeprop temp.30, 1
return
