---
source: crates/tapir-script/compiler/src/compile/ir/optimisations.rs
expression: output
input_file: crates/tapir-script/compiler/src/compile/ir/snapshot_tests/optimisations/integration/continue.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.19 = int 0
i.20 = temp.19
jmp 0

---- block 0 ----
i.21 = φ(i.20 from 2, i.25 from 3, i.25 from 9)
temp.22 = i.21
temp.23 = int 1
temp.24 = temp.22 + temp.23
i.25 = temp.24
temp.26 = i.25
temp.27 = int 2
temp.28 = temp.26 %% temp.27
temp.29 = int 0
temp.30 = temp.28 == temp.29
conditional_jump temp.30 3 4

---- block 3 ----
jmp 0

---- block 4 ----
jmp 5

---- block 5 ----
getprop temp.31, 0
temp.32 = int 1
temp.33 = temp.31 + temp.32
temp.34 = temp.33
storeprop temp.34, 0
temp.35 = i.25
temp.36 = int 20
temp.37 = temp.35 > temp.36
conditional_jump temp.37 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- simplify_blocks -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.19 = int 0
i.20 = temp.19
jmp 0

---- block 0 ----
i.21 = φ(i.20 from 2, i.25 from 3, i.25 from 9)
temp.22 = i.21
temp.23 = int 1
temp.24 = temp.22 + temp.23
i.25 = temp.24
temp.26 = i.25
temp.27 = int 2
temp.28 = temp.26 %% temp.27
temp.29 = int 0
temp.30 = temp.28 == temp.29
conditional_jump temp.30 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.31, 0
temp.32 = int 1
temp.33 = temp.31 + temp.32
temp.34 = temp.33
storeprop temp.34, 0
temp.35 = i.25
temp.36 = int 20
temp.37 = temp.35 > temp.36
jmp 5

---- block 5 ----
conditional_jump temp.37 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.19 = int 0
i.20 = temp.19
jmp 0

---- block 0 ----
i.21 = φ(temp.19 from 2, i.25 from 3, i.25 from 9)
temp.22 = i.21
temp.23 = int 1
temp.24 = i.21 + temp.23
i.25 = temp.24
temp.26 = temp.24
temp.27 = int 2
temp.28 = temp.24 %% temp.27
temp.29 = int 0
temp.30 = temp.28 == temp.29
conditional_jump temp.30 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.31, 0
temp.32 = int 1
temp.33 = temp.31 + temp.32
temp.34 = temp.33
storeprop temp.33, 0
temp.35 = temp.24
temp.36 = int 20
temp.37 = temp.24 > temp.36
jmp 5

---- block 5 ----
conditional_jump temp.37 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.19 = int 0
jmp 0

---- block 0 ----
i.21 = φ(temp.19 from 2, i.25 from 3, i.25 from 9)
temp.23 = int 1
temp.24 = i.21 + temp.23
i.25 = temp.24
temp.27 = int 2
temp.28 = temp.24 %% temp.27
temp.29 = int 0
temp.30 = temp.28 == temp.29
conditional_jump temp.30 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.31, 0
temp.32 = int 1
temp.33 = temp.31 + temp.32
storeprop temp.33, 0
temp.36 = int 20
temp.37 = temp.24 > temp.36
jmp 5

---- block 5 ----
conditional_jump temp.37 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- empty_block -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.19 = int 0
jmp 0

---- block 0 ----
i.21 = φ(temp.19 from 2, i.25 from 3, i.25 from 9, i.25 from 0, i.25 from 8)
temp.23 = int 1
temp.24 = i.21 + temp.23
i.25 = temp.24
temp.27 = int 2
temp.28 = temp.24 %% temp.27
temp.29 = int 0
temp.30 = temp.28 == temp.29
conditional_jump temp.30 0 4

---- block 4 ----
getprop temp.31, 0
temp.32 = int 1
temp.33 = temp.31 + temp.32
storeprop temp.33, 0
temp.36 = int 20
temp.37 = temp.24 > temp.36
conditional_jump temp.37 7 8

---- block 7 ----
return 

---- block 8 ----
jmp 0


----------- unreferenced_blocks_in_phi -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.19 = int 0
jmp 0

---- block 0 ----
i.21 = φ(temp.19 from 2, i.25 from 0, i.25 from 8)
temp.23 = int 1
temp.24 = i.21 + temp.23
i.25 = temp.24
temp.27 = int 2
temp.28 = temp.24 %% temp.27
temp.29 = int 0
temp.30 = temp.28 == temp.29
conditional_jump temp.30 0 4

---- block 4 ----
getprop temp.31, 0
temp.32 = int 1
temp.33 = temp.31 + temp.32
storeprop temp.33, 0
temp.36 = int 20
temp.37 = temp.24 > temp.36
conditional_jump temp.37 7 8

---- block 7 ----
return 

---- block 8 ----
jmp 0


----------- empty_block -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.19 = int 0
jmp 0

---- block 0 ----
i.21 = φ(temp.19 from 2, i.25 from 0, i.25 from 8, i.25 from 4)
temp.23 = int 1
temp.24 = i.21 + temp.23
i.25 = temp.24
temp.27 = int 2
temp.28 = temp.24 %% temp.27
temp.29 = int 0
temp.30 = temp.28 == temp.29
conditional_jump temp.30 0 4

---- block 4 ----
getprop temp.31, 0
temp.32 = int 1
temp.33 = temp.31 + temp.32
storeprop temp.33, 0
temp.36 = int 20
temp.37 = temp.24 > temp.36
conditional_jump temp.37 7 0

---- block 7 ----
return 


----------- unreferenced_blocks_in_phi -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.19 = int 0
jmp 0

---- block 0 ----
i.21 = φ(temp.19 from 2, i.25 from 0, i.25 from 4)
temp.23 = int 1
temp.24 = i.21 + temp.23
i.25 = temp.24
temp.27 = int 2
temp.28 = temp.24 %% temp.27
temp.29 = int 0
temp.30 = temp.28 == temp.29
conditional_jump temp.30 0 4

---- block 4 ----
getprop temp.31, 0
temp.32 = int 1
temp.33 = temp.31 + temp.32
storeprop temp.33, 0
temp.36 = int 20
temp.37 = temp.24 > temp.36
conditional_jump temp.37 7 0

---- block 7 ----
return
