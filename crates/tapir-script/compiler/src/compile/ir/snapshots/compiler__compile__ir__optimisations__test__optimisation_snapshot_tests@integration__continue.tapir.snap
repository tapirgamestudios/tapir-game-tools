---
source: crates/tapir-script/compiler/src/compile/ir/optimisations.rs
expression: output
input_file: crates/tapir-script/compiler/src/compile/ir/snapshot_tests/optimisations/integration/continue.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.18 = int 0
i.19 = temp.18
jmp 0

---- block 0 ----
i.20 = φ(i.19 from 2, i.24 from 3, i.24 from 9)
temp.21 = i.20
temp.22 = int 1
temp.23 = temp.21 + temp.22
i.24 = temp.23
temp.25 = i.24
temp.26 = int 2
temp.27 = temp.25 %% temp.26
temp.28 = int 0
temp.29 = temp.27 == temp.28
conditional_jump temp.29 3 4

---- block 3 ----
jmp 0

---- block 4 ----
jmp 5

---- block 5 ----
getprop temp.30, 0
temp.31 = int 1
temp.32 = temp.30 + temp.31
temp.33 = temp.32
storeprop temp.33, 0
temp.34 = i.24
temp.35 = int 20
temp.36 = temp.34 > temp.35
conditional_jump temp.36 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- simplify_blocks -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.18 = int 0
i.19 = temp.18
jmp 0

---- block 0 ----
i.20 = φ(i.19 from 2, i.24 from 3, i.24 from 9)
temp.21 = i.20
temp.22 = int 1
temp.23 = temp.21 + temp.22
i.24 = temp.23
temp.25 = i.24
temp.26 = int 2
temp.27 = temp.25 %% temp.26
temp.28 = int 0
temp.29 = temp.27 == temp.28
conditional_jump temp.29 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.30, 0
temp.31 = int 1
temp.32 = temp.30 + temp.31
temp.33 = temp.32
storeprop temp.33, 0
temp.34 = i.24
temp.35 = int 20
temp.36 = temp.34 > temp.35
jmp 5

---- block 5 ----
conditional_jump temp.36 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.18 = int 0
i.19 = temp.18
jmp 0

---- block 0 ----
i.20 = φ(temp.18 from 2, i.24 from 3, i.24 from 9)
temp.21 = i.20
temp.22 = int 1
temp.23 = i.20 + temp.22
i.24 = temp.23
temp.25 = temp.23
temp.26 = int 2
temp.27 = temp.23 %% temp.26
temp.28 = int 0
temp.29 = temp.27 == temp.28
conditional_jump temp.29 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.30, 0
temp.31 = int 1
temp.32 = temp.30 + temp.31
temp.33 = temp.32
storeprop temp.32, 0
temp.34 = temp.23
temp.35 = int 20
temp.36 = temp.23 > temp.35
jmp 5

---- block 5 ----
conditional_jump temp.36 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.18 = int 0
jmp 0

---- block 0 ----
i.20 = φ(temp.18 from 2, i.24 from 3, i.24 from 9)
temp.22 = int 1
temp.23 = i.20 + temp.22
i.24 = temp.23
temp.26 = int 2
temp.27 = temp.23 %% temp.26
temp.28 = int 0
temp.29 = temp.27 == temp.28
conditional_jump temp.29 3 4

---- block 3 ----
jmp 0

---- block 4 ----
getprop temp.30, 0
temp.31 = int 1
temp.32 = temp.30 + temp.31
storeprop temp.32, 0
temp.35 = int 20
temp.36 = temp.23 > temp.35
jmp 5

---- block 5 ----
conditional_jump temp.36 7 8

---- block 7 ----
jmp 1

---- block 8 ----
jmp 9

---- block 1 ----
return 

---- block 9 ----
jmp 0


----------- empty_block -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.18 = int 0
jmp 0

---- block 0 ----
i.20 = φ(temp.18 from 2, i.24 from 3, i.24 from 9, i.24 from 0, i.24 from 8)
temp.22 = int 1
temp.23 = i.20 + temp.22
i.24 = temp.23
temp.26 = int 2
temp.27 = temp.23 %% temp.26
temp.28 = int 0
temp.29 = temp.27 == temp.28
conditional_jump temp.29 0 4

---- block 4 ----
getprop temp.30, 0
temp.31 = int 1
temp.32 = temp.30 + temp.31
storeprop temp.32, 0
temp.35 = int 20
temp.36 = temp.23 > temp.35
conditional_jump temp.36 7 8

---- block 7 ----
return 

---- block 8 ----
jmp 0


----------- unreferenced_blocks_in_phi -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.18 = int 0
jmp 0

---- block 0 ----
i.20 = φ(temp.18 from 2, i.24 from 0, i.24 from 8)
temp.22 = int 1
temp.23 = i.20 + temp.22
i.24 = temp.23
temp.26 = int 2
temp.27 = temp.23 %% temp.26
temp.28 = int 0
temp.29 = temp.27 == temp.28
conditional_jump temp.29 0 4

---- block 4 ----
getprop temp.30, 0
temp.31 = int 1
temp.32 = temp.30 + temp.31
storeprop temp.32, 0
temp.35 = int 20
temp.36 = temp.23 > temp.35
conditional_jump temp.36 7 8

---- block 7 ----
return 

---- block 8 ----
jmp 0


----------- empty_block -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.18 = int 0
jmp 0

---- block 0 ----
i.20 = φ(temp.18 from 2, i.24 from 0, i.24 from 8, i.24 from 4)
temp.22 = int 1
temp.23 = i.20 + temp.22
i.24 = temp.23
temp.26 = int 2
temp.27 = temp.23 %% temp.26
temp.28 = int 0
temp.29 = temp.27 == temp.28
conditional_jump temp.29 0 4

---- block 4 ----
getprop temp.30, 0
temp.31 = int 1
temp.32 = temp.30 + temp.31
storeprop temp.32, 0
temp.35 = int 20
temp.36 = temp.23 > temp.35
conditional_jump temp.36 7 0

---- block 7 ----
return 


----------- unreferenced_blocks_in_phi -------------
=======================
fn @toplevel() -> 

---- block 2 ----
temp.18 = int 0
jmp 0

---- block 0 ----
i.20 = φ(temp.18 from 2, i.24 from 0, i.24 from 4)
temp.22 = int 1
temp.23 = i.20 + temp.22
i.24 = temp.23
temp.26 = int 2
temp.27 = temp.23 %% temp.26
temp.28 = int 0
temp.29 = temp.27 == temp.28
conditional_jump temp.29 0 4

---- block 4 ----
getprop temp.30, 0
temp.31 = int 1
temp.32 = temp.30 + temp.31
storeprop temp.32, 0
temp.35 = int 20
temp.36 = temp.23 > temp.35
conditional_jump temp.36 7 0

---- block 7 ----
return
