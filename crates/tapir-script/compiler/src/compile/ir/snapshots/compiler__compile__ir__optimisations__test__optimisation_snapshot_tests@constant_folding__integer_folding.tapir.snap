---
source: crates/tapir-script/compiler/src/compile/ir/optimisations.rs
expression: output
input_file: crates/tapir-script/compiler/src/compile/ir/snapshot_tests/optimisations/constant_folding/integer_folding.tapir
---
----------- before -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.17 = int 5
x.18 = temp.17
temp.19 = int 9
y.20 = temp.19
temp.21 = x.18
temp.22 = int 6
temp.23 = temp.21 + temp.22
z.24 = temp.23
temp.25 = y.20
temp.26 = int 9
temp.27 = temp.25 + temp.26
w.28 = temp.27
temp.29 = z.24
temp.30 = w.28
temp.31 = temp.29 + temp.30
temp.32 = temp.31
storeprop temp.32, 0
return 


----------- copy_propagation -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.17 = int 5
x.18 = temp.17
temp.19 = int 9
y.20 = temp.19
temp.21 = temp.17
temp.22 = int 6
temp.23 = temp.17 + temp.22
z.24 = temp.23
temp.25 = temp.19
temp.26 = int 9
temp.27 = temp.19 + temp.26
w.28 = temp.27
temp.29 = temp.23
temp.30 = temp.27
temp.31 = temp.23 + temp.27
temp.32 = temp.31
storeprop temp.31, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.17 = int 5
temp.19 = int 9
temp.22 = int 6
temp.23 = temp.17 + temp.22
temp.26 = int 9
temp.27 = temp.19 + temp.26
temp.31 = temp.23 + temp.27
storeprop temp.31, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.17 = int 5
temp.19 = int 9
temp.22 = int 6
temp.23 = int 11
temp.26 = int 9
temp.27 = int 18
temp.31 = temp.23 + temp.27
storeprop temp.31, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.23 = int 11
temp.27 = int 18
temp.31 = temp.23 + temp.27
storeprop temp.31, 0
return 


----------- constant_folding -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.23 = int 11
temp.27 = int 18
temp.31 = int 29
storeprop temp.31, 0
return 


----------- dead_store_elimination -------------
=======================
fn @toplevel() -> 

---- block 0 ----
temp.31 = int 29
storeprop temp.31, 0
return
